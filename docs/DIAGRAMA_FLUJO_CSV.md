# ğŸ“Š DIAGRAMA DE FLUJO - Carga CSV Monitoreo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INICIO: Usuario en /monitoreo                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Click "Cargar Monitoreos" â†’ Modal se abre            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Usuario selecciona archivo CSV                      â”‚
â”‚              TamaÃ±o: ~288KB, ~2831 filas                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    FASE 1: PARSING (~2 seg)                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  â€¢ Papa.parse() lee el CSV                                      â•‘
â•‘  â€¢ Salta primeras 10 filas (header del documento)              â•‘
â•‘  â€¢ Genera array de 2831 objetos                                 â•‘
â•‘  â€¢ Log: "âœ… CSV parseado exitosamente. Filas: 2831"            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              â†“
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  FASE 2: VALIDACIÃ“N (~1 seg)                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  âœ“ Verificar columnas requeridas                                â•‘
â•‘  âœ“ Validar formatos de fecha                                    â•‘
â•‘  âœ“ Contar lotes Ãºnicos                                          â•‘
â•‘  âœ“ Contar sublotes Ãºnicos                                       â•‘
â•‘  âœ“ Contar plagas Ãºnicas                                         â•‘
â•‘  â€¢ Log: "âœ… ValidaciÃ³n completada: isValid: true"              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Modal muestra resumen de validaciÃ³n al usuario          â”‚
â”‚         âœ… 2831 filas | 8 lotes | 9 sublotes | 33 plagas       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Usuario hace click en "Cargar 2831"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              FASE 3: PROCESAMIENTO Y CARGA (~15 seg)            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                  â•‘
â•‘  PASO 3.1: RE-PARSEAR CSV                                       â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚ Papa.parse() nuevamente para tener datos frescos     â”‚      â•‘
â•‘  â”‚ â€¢ Log: "ğŸ”µ Iniciando parse de: [archivo].csv"        â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘                           â†“                                     â•‘
â•‘  PASO 3.2: MAPEAR LOTES Y SUBLOTES                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚ A. Obtener lotes de BD (Supabase)                    â”‚      â•‘
â•‘  â”‚    SELECT id, nombre FROM lotes                       â”‚      â•‘
â•‘  â”‚    â€¢ Log: "ğŸ” Lotes en BD: [1. Piedra Paula, ...]"   â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ B. Obtener sublotes de BD                             â”‚      â•‘
â•‘  â”‚    SELECT id, nombre, lote_id FROM sublotes           â”‚      â•‘
â•‘  â”‚    â€¢ Log: "ğŸ” Sublotes en BD: [Sublote 1, ...]"      â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ C. Extraer lotes Ãºnicos del CSV                       â”‚      â•‘
â•‘  â”‚    â€¢ Log: "ğŸ” Lotes en CSV: [1. Piedra Paula, ...]"  â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ D. MAPEO INTELIGENTE:                                 â”‚      â•‘
â•‘  â”‚    Para cada lote en CSV:                             â”‚      â•‘
â•‘  â”‚      1. Buscar match exacto                           â”‚      â•‘
â•‘  â”‚         "1. Piedra Paula" === "1. Piedra Paula" âœ…    â”‚      â•‘
â•‘  â”‚         â€¢ Log: "âœ… Match exacto lote: ..."            â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚      2. Si no, buscar match parcial                   â”‚      â•‘
â•‘  â”‚         "1. Piedra Paula".includes("Piedra Paula") âœ… â”‚      â•‘
â•‘  â”‚         â€¢ Log: "âš ï¸ Match parcial lote: ..."          â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚      3. Si no, marcar como sin match                  â”‚      â•‘
â•‘  â”‚         â€¢ Log: "âŒ Sin match para lote: ..."          â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ E. Crear Map<nombreCSV, loteId>                       â”‚      â•‘
â•‘  â”‚    â€¢ Log: "âœ… Lotes mapeados: 8"                      â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ F. Crear Map<nombreCSV, subloteData>                  â”‚      â•‘
â•‘  â”‚    â€¢ Log: "âœ… Sublotes mapeados: 36"                  â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘                           â†“                                     â•‘
â•‘  PASO 3.3: MAPEAR PLAGAS                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚ A. Extraer plagas Ãºnicas del CSV                      â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ B. Obtener plagas de BD                               â”‚      â•‘
â•‘  â”‚    SELECT id, nombre                                   â”‚      â•‘
â•‘  â”‚    FROM plagas_enfermedades_catalogo                   â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ C. Identificar plagas nuevas                          â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ D. Insertar plagas nuevas                             â”‚      â•‘
â•‘  â”‚    INSERT INTO plagas_enfermedades_catalogo           â”‚      â•‘
â•‘  â”‚    (nombre, activo) VALUES (...)                       â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ E. Crear Map<nombrePlaga, plagaId>                    â”‚      â•‘
â•‘  â”‚    â€¢ Log: "âœ… Plagas mapeadas: 33"                    â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘                           â†“                                     â•‘
â•‘  PASO 3.4: TRANSFORMAR FILAS                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚ Para cada fila CSV (2831):                            â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚   1. Parsear fecha: "3/1/2025" â†’ Date                 â”‚      â•‘
â•‘  â”‚   2. Buscar loteId en lotesMap                        â”‚      â•‘
â•‘  â”‚   3. Buscar subloteId en sublotesMap                  â”‚      â•‘
â•‘  â”‚   4. Buscar plagaId en plagasMap                      â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚   5. Parsear nÃºmeros:                                 â”‚      â•‘
â•‘  â”‚      - arbolesMonitoreados                            â”‚      â•‘
â•‘  â”‚      - arbolesAfectados                               â”‚      â•‘
â•‘  â”‚      - individuosEncontrados                          â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚   6. CALCULAR MÃ‰TRICAS:                               â”‚      â•‘
â•‘  â”‚      incidencia = (afectados / monitoreados) Ã— 100    â”‚      â•‘
â•‘  â”‚      severidad = individuos / afectados               â”‚      â•‘
â•‘  â”‚      gravedad = clasificar(incidencia)                â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚   7. Crear objeto Monitoreo con todos los datos       â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚   Si falla algÃºn paso (lote no encontrado):           â”‚      â•‘
â•‘  â”‚      - Log: "âš ï¸ Fila X no transformada: ..."         â”‚      â•‘
â•‘  â”‚      - Saltar esa fila (return null)                  â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ â€¢ Log: "âœ… Filas transformadas: 2831 de 2831"        â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘                           â†“                                     â•‘
â•‘  PASO 3.5: INSERTAR EN SUPABASE                                 â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚ supabase                                               â”‚      â•‘
â•‘  â”‚   .from('monitoreos')                                  â”‚      â•‘
â•‘  â”‚   .insert(monitoreos) // array de 2831 objetos        â”‚      â•‘
â•‘  â”‚   .select()                                            â”‚      â•‘
â•‘  â”‚                                                        â”‚      â•‘
â•‘  â”‚ â€¢ Log: "âœ… Insertados: 2831 registros"               â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Modal muestra: "âœ… Carga exitosa"                   â”‚
â”‚             Se cierra automÃ¡ticamente en 2 segundos             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Dashboard se recarga con nuevos datos                 â”‚
â”‚           âœ… Vistas rÃ¡pidas actualizadas                        â”‚
â”‚           âœ… GrÃ¡ficos de tendencias actualizados                â”‚
â”‚           âœ… Alertas actualizadas                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                       âœ… FIN - Ã‰XITO



â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                         PUNTOS CRÃTICOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¨ CRITICAL POINT 1: MAPEO DE LOTES
   â€¢ Si no hay match â†’ Filas transformadas = 0
   â€¢ SoluciÃ³n: Nombres de lotes en BD deben coincidir con CSV
   â€¢ Script: SETUP_LOTES_REALES.sql

ğŸš¨ CRITICAL POINT 2: MAPEO DE SUBLOTES  
   â€¢ Si no hay match â†’ Filas transformadas = 0
   â€¢ SoluciÃ³n: Sublotes deben llamarse "Sublote 1", "Sublote 2", etc.
   â€¢ Script: SETUP_SUBLOTES_REALES.sql

ğŸš¨ CRITICAL POINT 3: TRANSFORMACIÃ“N
   â€¢ Si loteId O subloteId O plagaId es NULL â†’ fila descartada
   â€¢ Verificar logs: "âš ï¸ Fila X no transformada"
   â€¢ Revisar los 3 mapeos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        LOGS IMPORTANTES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Ã‰XITO - Todo bien:
   âœ… CSV parseado exitosamente. Filas: 2831
   âœ… ValidaciÃ³n completada: isValid: true
   âœ… Lotes mapeados: 8+
   âœ… Sublotes mapeados: 36
   âœ… Plagas mapeadas: 33
   âœ… Filas transformadas: 2831 de 2831 â† Â¡CRÃTICO!
   âœ… Insertados: 2831 registros

âŒ ERROR - Revisar:
   âŒ Sin match para lote: NOMBRE_LOTE
   âš ï¸ Fila X no transformada: {...}
   âœ… Filas transformadas: 0 de 2831 â† Â¡PROBLEMA!
   âŒ Error en insert: {...}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
